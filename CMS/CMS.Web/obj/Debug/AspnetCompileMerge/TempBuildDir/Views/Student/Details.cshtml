@model CMS.Web.ViewModels.StudentEditViewModel

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h2>Student Details</h2>
@Html.HiddenFor(m => m.UserId)
@Html.HiddenFor(m => m.FirstName)
@Html.HiddenFor(m => m.PaymentLists)


<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.FirstName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FirstName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.MiddleName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.MiddleName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.LastName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.LastName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.MotherName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.MotherName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Gender)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Gender)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.BranchName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BranchName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.BoardName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BoardName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ClassName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ClassName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.BatchName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BatchName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.SelectedSubject)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.SelectedSubject)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DOB)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.DOB)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.SchoolName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.SchoolName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.SeatNumber)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.SeatNumber)
        </dd>


        <dt>
            @Html.DisplayNameFor(model => model.Address)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Address)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Pin)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Pin)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DOJ)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.DOJ)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ParentContact)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ParentContact)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.StudentContact)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.StudentContact)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.EmergencyContact)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EmergencyContact)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ParentEmailId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ParentEmailId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PunchId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PunchId)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.PickAndDrop)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PickAndDrop)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.IsWhatsApp)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.IsWhatsApp)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.IsActive)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.IsActive)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.VANArea)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.VANArea)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.VANFee)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.VANFee)
        </dd>
      
        <dt>
            @Html.DisplayNameFor(model => model.TotalFees)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TotalFees)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Discount)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Discount)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.FinalFees)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FinalFees)
        </dd>
        <dt>
            @Html.DisplayName("Payment List")
        </dt>
        <dd>
            <table id="PaymentList" class="table"></table>
        </dd>

        <dt>
            @Html.DisplayName("Photo")
        </dt>

        <dd>
            <img src="@Url.Content((Model.PhotoPath != null ? Model.PhotoPath : Model.Gender.ToString() == "Female" ? "~/Content/AppImages/Female.png" : "~/Content/AppImages/Male.jpg"))" width="100" height="100" alt="Model.PhotoPath" />
        </dd>


    </dl>
</div>
<p>
    @Html.ActionLink("Back to Students List", "Index")<br />
    @Html.ActionLink("Edit this record", "Edit", new { id = Model.UserId })
</p>

@section scripts{
    @Scripts.Render("~/bundles/InstallmentJS")
    <script>
        $(document).ready(function () {

            if ($("#UserId").val() != "") {
                if ($("#PaymentLists").val() != "") {
                    console.log($("#UserId").val() + $("#PaymentLists").val());
                    var data = [];
                    data = $.parseJSON($("#PaymentLists").val());
                    $("#PaymentList").html("");
                    var divPayment = "";
                    divPayment += "<tr><td><div class='col-md-8'><b>Date</b></div></td><td><div class='col-md-4'><div aria-label='...'><label><b>Payment</b></label></td><td></div></div></td></tr>";

                    $.each(data, function (index, item) {
                        divPayment += "<tr><td><div class='col-md-8'><input type='date' name='Date' id='Date' value='" + item.Date + "' date-format='yyyy/mm/dd' class='PaymentDate' disabled></div></td><td><div class='col-md-4'><div aria-label='...'><input type='text' name='Payment' id='Payment' class='PaymentAmount' value='" + item.Payment + "' autocomplete='off' disabled></td><td></div></div></td></tr>";
                    });
                    divPayment = "<tbody>" + divPayment + "</tbody>";
                    $("#PaymentList").append(divPayment);
                }
            }
        });
    </script>
}
